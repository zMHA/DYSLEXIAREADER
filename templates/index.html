{% extends "base.html" %}

{% block content %}
<!-- Modern Hero Section -->
<div class="hero-section">
    <div class="hero-content">
        <div class="hero-badge">
            <i class="fas fa-sparkles"></i>
            <span>AI-Powered Accessibility</span>
        </div>
        <h1 class="hero-title">
            Make Reading
            <span class="gradient-text">Accessible</span>
            for Everyone
        </h1>
        <p class="hero-subtitle">
            Transform any webpage or document into a dyslexia-friendly reading experience with AI-powered summaries and customizable accessibility features.
        </p>
        <div class="hero-stats">
            <div class="stat">
                <div class="stat-number">10M+</div>
                <div class="stat-label">Words Processed</div>
            </div>
            <div class="stat">
                <div class="stat-number">99%</div>
                <div class="stat-label">Accessibility Score</div>
            </div>
            <div class="stat">
                <div class="stat-number">5s</div>
                <div class="stat-label">Average Processing</div>
            </div>
        </div>
    </div>
</div>

<!-- Input Options Section -->
<div class="input-section">
    <div class="section-header">
        <h2 class="section-title">Get Started</h2>
        <p class="section-subtitle">Choose your input method to begin transforming content</p>
    </div>
    
    <div class="input-cards">
        <!-- URL Input Card -->
        <div class="modern-card url-card">
            <div class="card-icon">
                <i class="fas fa-globe"></i>
            </div>
            <div class="card-content">
                <h3 class="card-title">Process Website</h3>
                <p class="card-description">Extract and transform content from any webpage</p>
                
                <form action="{{ url_for('process_url') }}" method="POST" class="modern-form">
                    <div class="input-group">
                        <div class="input-wrapper">
                            <i class="fas fa-link input-icon"></i>
                            <input type="url" 
                                   class="modern-input" 
                                   id="url" 
                                   name="url" 
                                   placeholder="https://example.com/article"
                                   required>
                        </div>
                        <div class="input-hint">
                            <i class="fas fa-info-circle"></i>
                            We'll extract the main content from any webpage
                        </div>
                    </div>
                    <button type="submit" class="modern-btn primary">
                        <span class="btn-text">Process Website</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </form>
            </div>
        </div>

        <!-- File Upload Card -->
        <div class="modern-card file-card">
            <div class="card-icon">
                <i class="fas fa-file-upload"></i>
            </div>
            <div class="card-content">
                <h3 class="card-title">Upload Document</h3>
                <p class="card-description">Transform your documents into accessible format</p>
                
                <form action="{{ url_for('process_file') }}" method="POST" enctype="multipart/form-data" class="modern-form">
                    <div class="input-group">
                        <div class="file-upload-wrapper">
                            <input type="file" 
                                   class="file-input" 
                                   id="file" 
                                   name="file"
                                   accept=".txt,.pdf,.docx,.doc"
                                   required>
                            <label for="file" class="file-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span class="file-text">Choose Document</span>
                                <span class="file-name" id="fileName"></span>
                            </label>
                        </div>
                        <div class="input-hint">
                            <i class="fas fa-file-alt"></i>
                            Supported: TXT, PDF, DOCX, DOC (max 16MB)
                        </div>
                    </div>
                    <button type="submit" class="modern-btn secondary">
                        <span class="btn-text">Upload Document</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="features-section">
    <div class="section-header">
        <h2 class="section-title">Powerful Features</h2>
        <p class="section-subtitle">Everything you need for accessible reading</p>
    </div>
    
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-font"></i>
            </div>
            <h3 class="feature-title">OpenDyslexic Font</h3>
            <p class="feature-description">Specially designed typography that reduces reading errors and improves comprehension</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-sliders-h"></i>
            </div>
            <h3 class="feature-title">Customizable Layout</h3>
            <p class="feature-description">Adjust line spacing, text width, and colors to match your reading preferences</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-brain"></i>
            </div>
            <h3 class="feature-title">AI-Powered Summaries</h3>
            <p class="feature-description">Get clear, simple summaries using advanced language models trained for accessibility</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-file-pdf"></i>
            </div>
            <h3 class="feature-title">PDF Export</h3>
            <p class="feature-description">Save your formatted content as beautiful, accessible PDFs for offline reading</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-universal-access"></i>
            </div>
            <h3 class="feature-title">Accessibility First</h3>
            <p class="feature-description">Built with WCAG guidelines and dyslexia-friendly design principles</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-bolt"></i>
            </div>
            <h3 class="feature-title">Lightning Fast</h3>
            <p class="feature-description">Process content in seconds with our optimized infrastructure</p>
        </div>
    </div>
</div>

<!-- How It Works Section -->
<div class="how-it-works-section">
    <div class="section-header">
        <h2 class="section-title">How It Works</h2>
        <p class="section-subtitle">Simple steps to accessible reading</p>
    </div>
    
    <div class="steps-container">
        <div class="step">
            <div class="step-number">01</div>
            <div class="step-content">
                <h3 class="step-title">Choose Your Input</h3>
                <p class="step-description">Paste a website URL or upload a document (TXT, PDF, DOCX)</p>
            </div>
        </div>
        
        <div class="step-connector"></div>
        
        <div class="step">
            <div class="step-number">02</div>
            <div class="step-content">
                <h3 class="step-title">AI Processing</h3>
                <p class="step-description">Our system extracts text and creates a dyslexia-friendly summary</p>
            </div>
        </div>
        
        <div class="step-connector"></div>
        
        <div class="step">
            <div class="step-number">03</div>
            <div class="step-content">
                <h3 class="step-title">Customize & Read</h3>
                <p class="step-description">Adjust fonts, colors, and spacing for comfortable reading</p>
            </div>
        </div>
        
        <div class="step-connector"></div>
        
        <div class="step">
            <div class="step-number">04</div>
            <div class="step-content">
                <h3 class="step-title">Export & Save</h3>
                <p class="step-description">Download as a PDF for offline accessible reading</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// Add loading states to form submissions
document.querySelectorAll('.modern-form').forEach(form => {
    form.addEventListener('submit', function() {
        const submitBtn = this.querySelector('.modern-btn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnIcon = submitBtn.querySelector('.btn-icon');
        const originalText = btnText.textContent;
        
        btnText.textContent = 'Processing...';
        btnIcon.className = 'fas fa-spinner fa-spin btn-icon';
        submitBtn.disabled = true;
        submitBtn.classList.add('loading');
        
        // Re-enable button after 10 seconds as a failsafe
        setTimeout(() => {
            btnText.textContent = originalText;
            btnIcon.className = 'fas fa-arrow-right btn-icon';
            submitBtn.disabled = false;
            submitBtn.classList.remove('loading');
        }, 10000);
    });
});

// Modern file input handling
document.getElementById('file').addEventListener('change', function() {
    const file = this.files[0];
    const fileName = document.getElementById('fileName');
    const fileText = this.parentElement.querySelector('.file-text');
    
    if (file) {
        const maxSize = 16 * 1024 * 1024; // 16MB
        if (file.size > maxSize) {
            alert('File too large! Maximum size is 16MB.');
            this.value = '';
            fileName.textContent = '';
            fileText.textContent = 'Choose Document';
        } else {
            fileName.textContent = file.name;
            fileText.textContent = 'Document Selected:';
        }
    } else {
        fileName.textContent = '';
        fileText.textContent = 'Choose Document';
    }
});

// Add smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Add entrance animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
        }
    });
}, observerOptions);

// Observe all sections for animations
document.querySelectorAll('.hero-section, .input-section, .features-section, .how-it-works-section').forEach(section => {
    observer.observe(section);
});

// Add staggered animation to feature cards
document.querySelectorAll('.feature-card').forEach((card, index) => {
    card.style.animationDelay = `${index * 0.1}s`;
});
</script>
{% endblock %}
